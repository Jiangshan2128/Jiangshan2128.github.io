<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"jiangshan2128.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Working Notes">
<meta property="og:url" content="https://jiangshan2128.github.io/index.html">
<meta property="og:site_name" content="Working Notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jiang Shan">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://jiangshan2128.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Working Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Working Notes</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-aosp"><a href="/categories/AOSP/" rel="section"><i class="fa fa-AOSP fa-fw"></i>AOSP</a></li><li class="menu-item menu-item-investment"><a href="/categories/Investment/" rel="section"><i class="fa fa-Investment fa-fw"></i>Investment</a></li><li class="menu-item menu-item-personal"><a href="/categories/Personal/" rel="section"><i class="fa fa-Personal fa-fw"></i>Personal</a></li><li class="menu-item menu-item-other"><a href="/categories/Other/" rel="section"><i class="fa fa-Other fa-fw"></i>Other</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jiang Shan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dashboard" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dashboard" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/27/Android-startup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/27/Android-startup/" class="post-title-link" itemprop="url">Android_startup</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-27 12:32:52 / Modified: 15:00:45" itemprop="dateCreated datePublished" datetime="2024-12-27T12:32:52+08:00">2024-12-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>resource from: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=5SQP0qfUDjI">https://www.youtube.com/watch?v=5SQP0qfUDjI</a></p>
<h2 id="init-process"><a href="#init-process" class="headerlink" title="init process"></a>init process</h2><p>it is the first process #1<br><img src="/../images/init.jpg" alt="init"><br><img src="/../images/init2.jpg" alt="init2"></p>
<ul>
<li>make some directories</li>
<li>init process will observe the sysProp change all the time.</li>
<li>when some systemProp meet the value, will execute following commands</li>
<li>start some deamon process – the process always run in system （守护进程）– installd&#x2F;logd&#x2F;….</li>
<li>notice that the deamon process will have a socket, that is the way they talk to each other&#x2F;observe.</li>
<li>start Zygote process</li>
</ul>
<h2 id="Zygote"><a href="#Zygote" class="headerlink" title="Zygote"></a>Zygote</h2><p>every application process is forked by Zygote.<br><img src="/../images/Zygote.jpg" alt="Zygote"></p>
<ul>
<li>why use this fork way?<br>– all the processes can share some common memories, and dont need to load&#x2F;init in each own process</li>
<li>Zygote start sytem server.</li>
</ul>
<h2 id="Whole-startup-process"><a href="#Whole-startup-process" class="headerlink" title="Whole startup process"></a>Whole startup process</h2><p><img src="/../images/start_up.jpg" alt="startup"></p>
<p><img src="/../images/AMS.jpg" alt="AMS"></p>
<p><img src="/../images/app_launch.jpg" alt="app_launch"></p>
<p>launch scenario:<br>curent app tell system server, he want to launch another activity(Intent) -&gt;<br>system server will check is the new guy is already there or not, if not -&gt;<br>System server: Hey! Zygote, please help me fork a new process, and dont forget to tell me the new guy’s name (process id)<br>Zygote: got it! fork myself, here you go…. hey System server, here is the new process id XXX<br>new app: I am just borned, with a ActivityThread just like others (the ‘main’ for application), and I need to phone to SYstemserver -&gt;<br>new app: hey System server, I just born and initialized, here is my id.<br>system server: oh, I’ve been waiting for you, then I wil start the new Activity.</p>
<p><img src="/../images/process.jpg" alt="process"></p>
<p>we could see here:<br>init is the #1 process, and Zygote&#x2F;Zygote64 is his child #954&#x2F;#955, and all the other applications father is Zygote</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/27/tech-diary-2024-12-27/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/27/tech-diary-2024-12-27/" class="post-title-link" itemprop="url">tech_diary_2024_12_27</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-27 11:43:45 / Modified: 11:50:18" itemprop="dateCreated datePublished" datetime="2024-12-27T11:43:45+08:00">2024-12-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Personal/" itemprop="url" rel="index"><span itemprop="name">Personal</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Yesterday, after the flue is getting better, I can have my brain back to learn something interesting, so I tried Copilot and Gemini for free version</p>
<ul>
<li><p>For the Gemini, I installed it in Android Studio, seems like it needs the whole project to loaded, and then it can recognize the files in it.</p>
</li>
<li><p>For Copilot, I installed it in VS Code, when I drag one individual file into VS Code, it can recognize it, for this perspective, I think it is more easy to use.</p>
</li>
</ul>
<p>I think by using the AI tool on development, it is good to use them analyze codes and generate unit testing codes, for wring, it is hard to know the business logics, so, it is still cool for me.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/09/aosp-basics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/09/aosp-basics/" class="post-title-link" itemprop="url">aosp_basics</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-12-09 10:57:17" itemprop="dateCreated datePublished" datetime="2024-12-09T10:57:17+08:00">2024-12-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-12-27 13:45:51" itemprop="dateModified" datetime="2024-12-27T13:45:51+08:00">2024-12-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Useful-Resources"><a href="#Useful-Resources" class="headerlink" title="Useful Resources"></a>Useful Resources</h2><p>AOSP directory structure: <a target="_blank" rel="noopener" href="https://medium.com/@mmohamedrashik/understanding-aosp-folders-an-expert-guide-307a22451cf5">https://medium.com/@mmohamedrashik/understanding-aosp-folders-an-expert-guide-307a22451cf5</a></p>
<p>build app in Car: <a target="_blank" rel="noopener" href="https://medium.com/@sreelakshmis.dilip/android-automotive-build-your-first-app-f4b882eb01e5">https://medium.com/@sreelakshmis.dilip/android-automotive-build-your-first-app-f4b882eb01e5</a></p>
<p>AOSP build system:<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=hQZz2PRNdxI">https://www.youtube.com/watch?v=hQZz2PRNdxI</a></p>
<p>import AOSP into Android Studio: <a target="_blank" rel="noopener" href="https://param105.medium.com/aosp-source-code-in-android-studio-explore-only-1cdc3081cf51">https://param105.medium.com/aosp-source-code-in-android-studio-explore-only-1cdc3081cf51</a></p>
<h2 id="AOSP-build-system"><a href="#AOSP-build-system" class="headerlink" title="AOSP build system"></a>AOSP build system</h2><p><img src="/../images/AOSP_Build.jpg" alt="AOSP_Build"></p>
<ul>
<li>Android.bp and Android.mk are similar, just like build.gradle. bp is newer</li>
<li>Soong reads bp files and translate into ninja file</li>
<li>kati reaads mk file and translate into ninja file</li>
<li>when you changed code in one module – systemui –, you need to take care of the Android.bp file under systemui module to see how to build it</li>
<li>Car system make file located in &#x2F;packages&#x2F;services&#x2F;Car&#x2F;car_product&#x2F;build&#x2F;car.mk, if you added one new app, you need to add that package in car.mk.</li>
</ul>
<h2 id="AOSP-directory-structure"><a href="#AOSP-directory-structure" class="headerlink" title="AOSP directory structure"></a>AOSP directory structure</h2><p>car related apps source code: &#x2F;paackages&#x2F;apps&#x2F;Car&#x2F;SystemUI<br>related service source code: &#x2F;packages&#x2F;services&#x2F;Car</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/09/aosp-car-systemui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/09/aosp-car-systemui/" class="post-title-link" itemprop="url">aosp_car_systemui</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-09 10:12:35 / Modified: 11:36:03" itemprop="dateCreated datePublished" datetime="2024-12-09T10:12:35+08:00">2024-12-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="System-UI-source-code"><a href="#System-UI-source-code" class="headerlink" title="System UI source code"></a>System UI source code</h2><p>&#x2F;packages&#x2F;apps&#x2F;Car&#x2F;SystemUI, in the packages directory, it contains the components run in other devices.</p>
<p>in \wsl.localhost\Ubuntu\home\ada\Aosp\packages\apps\Car\SystemUI\res\values\config.xml, you can see the entry point like config_statusBarComponent</p>
<h2 id="Overlay"><a href="#Overlay" class="headerlink" title="Overlay"></a>Overlay</h2><ul>
<li><p>Use overlay to change the systemui, it is not recommanded to change the source code, becuase someday you may upgrade the code will cause merge conflict…So, official document recommands to use overlay instead.</p>
</li>
<li><p>overlay can only replace resources</p>
</li>
</ul>
<h2 id="Source-code-change"><a href="#Source-code-change" class="headerlink" title="Source code change"></a>Source code change</h2><p>if overlay cannot satisfy your requirement, you better to extend the code instead of changing the source code.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/08/tech-diary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/08/tech-diary/" class="post-title-link" itemprop="url">tech_diary</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-08 18:00:42 / Modified: 18:21:05" itemprop="dateCreated datePublished" datetime="2024-12-08T18:00:42+08:00">2024-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Personal/" itemprop="url" rel="index"><span itemprop="name">Personal</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today is sunday, because I cannot go outside, now I have an interesting of watching some new tech posts and live broadcasts, it is weird that in the past, I dont want to use my personal time to watch such kind of things totally, but right now, maybe because I cannot go outside play or I miss the company, I think watch that live broadcast is very interesting.</p>
<p>So, I watched one Google devfest live broadcast<br>and it mentions the Gemini, I still remember that access of <strong>Gemini</strong> – I stil didnot get it in my company, but I know it is very interesting, I should try it.<br>it also mentions <strong>Mobile-Agent</strong>, sounds like it is something like Siri, it can be an assistant in our mobile to do some operations on behalf of ourselves, it will be the trend, but still have some challenges to fix – delay or something, The <strong>Agent</strong> is called 智能体 in Chinese, it try to copy the way of people thinking or making decisions.</p>
<p>also I watched a ‘how AI will change the ways of coding’<br><strong>AI assistent</strong> - developed by jetbrains, they said they have all the abilities in GPT, for the abilities GPT dont have? – they are working on it.<br><strong>Github</strong> -&gt; GitLab, people prefer to use gitLab instead of github, because of the gitlab is much more private, I dont know this before, I should check it. </p>
<p>To sum up, AI is definitely the trend, no matter GPT (OpenAI) &#x2F; Gemini (Google) &#x2F; Ai Assistant (jetbrains), they will change our life.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/04/aosp-env-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/04/aosp-env-setup/" class="post-title-link" itemprop="url">aosp_env_setup</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-12-04 20:20:41" itemprop="dateCreated datePublished" datetime="2024-12-04T20:20:41+08:00">2024-12-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-12-05 11:39:55" itemprop="dateModified" datetime="2024-12-05T11:39:55+08:00">2024-12-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Useful-Resource"><a href="#Useful-Resource" class="headerlink" title="Useful Resource"></a>Useful Resource</h2><ol>
<li>I setup the env follow this blog: <a target="_blank" rel="noopener" href="https://blog.csdn.net/devnn/article/details/131868022">https://blog.csdn.net/devnn/article/details/131868022</a></li>
</ol>
<h2 id="Some-challenges"><a href="#Some-challenges" class="headerlink" title="Some challenges"></a>Some challenges</h2><h3 id="AOSP-Cygwin-virtual-box-wsl"><a href="#AOSP-Cygwin-virtual-box-wsl" class="headerlink" title="AOSP - Cygwin &#x2F; virtual box &#x2F; wsl"></a>AOSP - Cygwin &#x2F; virtual box &#x2F; wsl</h3><ul>
<li><p>bacause my computer system is Windows, so at first, I dont want to install VMWare or somthing which is really complex, so I tried to use cygwin to run linux commands, but finally, it turns out that the Cygwin is not enough, it lacks some tools that AOSP build needs. </p>
</li>
<li><p>so, the second try, I want to use the virtual box to lunch the linux system (Ubuntu), it should work, but it need to confg many things, and you need to download virtual box, I did not end up with this method, but it should work, I want to have a simpler way, better to just have a command line.</p>
</li>
<li><p>the final solution: I use WSL, because my computer is Win10, so it born with the WSL tool, so I setup the unbuntu with wsl reference to the resource 1, finally did it. it just have a Ubuntu command line, dont have the user interface, it is much more lighter.</p>
</li>
</ul>
<h3 id="Challenges-Env-setup"><a href="#Challenges-Env-setup" class="headerlink" title="Challenges Env setup"></a>Challenges Env setup</h3><ul>
<li>For downloading the AOSP, at first, I downloaded the latest version, but, you know what?….I finally found that AS dont have a emulator can run Android 16, so I need to re-download the AOSP with Android 13.</li>
</ul>
<h3 id="Challenges-building-AOSP"><a href="#Challenges-building-AOSP" class="headerlink" title="Challenges building AOSP"></a>Challenges building AOSP</h3><ul>
<li><p>When I use the ‘m’ command to start the build, it ends up with not enough memory error(error code 137), but I checked with the memory, it seems enough, finally it turns out that I need to use ‘m -j8’ to identify the threads, otherwies, it may use all the threads, then the memory will not enough.</p>
</li>
<li><p>For choosing the lunch target, we can find related targets in \Aosp\device\generic\car\AndroidProducts.mk, I thought need to use the target - aosp_car_x86_64, but when it build finished, I need to pack a zip file to windows, I found the pack zip file command not work, it turns out we need to use the target with sdk prefix, so we can have the zip file, and lunch the image in windows emulator.</p>
</li>
</ul>
<h3 id="Final-Result"><a href="#Final-Result" class="headerlink" title="Final Result"></a>Final Result</h3><p><img src="/../images/AOSP_Env_Setup.jpg" alt="image"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/04/My-first-try/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/04/My-first-try/" class="post-title-link" itemprop="url">My first try</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-12-04 13:46:22 / Modified: 15:51:35" itemprop="dateCreated datePublished" datetime="2024-12-04T13:46:22+08:00">2024-12-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Personal/" itemprop="url" rel="index"><span itemprop="name">Personal</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Brand-New-Start"><a href="#Brand-New-Start" class="headerlink" title="Brand New Start!"></a>Brand New Start!</h2><p>It is so good to know this way of wrting tech blogs, this is absolutely the brand new start, so interesting, thanks Jack!</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/03/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/12/03/hello-world/" class="post-title-link" itemprop="url">Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-12-03 20:16:21" itemprop="dateCreated datePublished" datetime="2024-12-03T20:16:21+08:00">2024-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-12-09 15:58:26" itemprop="dateModified" datetime="2024-12-09T15:58:26+08:00">2024-12-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Other/" itemprop="url" rel="index"><span itemprop="name">Other</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<p>if we want to create a new category, just run ‘hexo new page pagename’, and when you create a new post, remember to set the corresponding category on top of that post script.</p>
<ul>
<li>have problems loading png file. so, use jpg</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Jiang Shan</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
