<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"jiangshan2128.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Working Notes">
<meta property="og:url" content="https://jiangshan2128.github.io/index.html">
<meta property="og:site_name" content="Working Notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jiang Shan">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://jiangshan2128.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Working Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Working Notes</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-aosp"><a href="/categories/AOSP/" rel="section"><i class="fa fa-AOSP fa-fw"></i>AOSP</a></li><li class="menu-item menu-item-mobile"><a href="/categories/Mobile/" rel="section"><i class="fa fa-Mobile fa-fw"></i>Mobile</a></li><li class="menu-item menu-item-personal"><a href="/categories/Personal/" rel="section"><i class="fa fa-Personal fa-fw"></i>Personal</a></li><li class="menu-item menu-item-other"><a href="/categories/Other/" rel="section"><i class="fa fa-Other fa-fw"></i>Other</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jiang Shan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dashboard" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dashboard" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/08/15/dynamic-proxy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/15/dynamic-proxy/" class="post-title-link" itemprop="url">dynamic_proxy</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-08-15 17:03:22 / Modified: 17:50:47" itemprop="dateCreated datePublished" datetime="2025-08-15T17:03:22+08:00">2025-08-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Mobile/" itemprop="url" rel="index"><span itemprop="name">Mobile</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Dynamic-Proxy-and-Retrofit"><a href="#Dynamic-Proxy-and-Retrofit" class="headerlink" title="Dynamic Proxy and Retrofit"></a>Dynamic Proxy and Retrofit</h2><p>related resource:<br><a target="_blank" rel="noopener" href="https://liaoxuefeng.com/books/java/reflection/proxy/index.html">https://liaoxuefeng.com/books/java/reflection/proxy/index.html</a></p>
<p>dynamic proxy is actually the process of creating a proxy class by JVM during runtime</p>
<p>with the interface as below:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">morning</span><span class="params">(String name)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JVM generates a proxy class:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloDynamicProxy</span> <span class="keyword">implements</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    InvocationHandler handler;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HelloDynamicProxy</span><span class="params">(InvocationHandler handler)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.handler = handler;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">morning</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        handler.invoke(</span><br><span class="line">           <span class="built_in">this</span>,</span><br><span class="line">           Hello.class.getMethod(<span class="string">&quot;morning&quot;</span>, String.class),</span><br><span class="line">           <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; name &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>as you can see, when you call Proxy.newProxyInstance, it will return the HelloDynamicProxy instance, when we use this proxy instance to call interface method, it will invoke the handler’s invoke method.</p>
<h2 id="Retrofit-mechanism"><a href="#Retrofit-mechanism" class="headerlink" title="Retrofit mechanism"></a>Retrofit mechanism</h2><p>related resource:<br><a target="_blank" rel="noopener" href="https://proandroiddev.com/retrofit-magic-service-interface-8efd486c8996">https://proandroiddev.com/retrofit-magic-service-interface-8efd486c8996</a></p>
<p>Retrofit is based on dynamic proxy, user just need to define call service interface.<br>when we call: retrofit.create(..), it will return a proxy instance, just like we say in the above, so when we call retrofit service method, it will routed to InvocationHandler’s invoke method, and then in this method, we will parse the interface method annotations, and make the http call.</p>
<h3 id="whole-process"><a href="#whole-process" class="headerlink" title="whole process"></a>whole process</h3><p>Validation: Retrofit confirms APIService is valid and annotations are correct.<br>Dynamic Proxy Creation: Retrofit creates a proxy that intercepts method calls.<br>Method Blueprint Creation: The getUser() method is parsed into a ServiceMethod.<br>Runtime Interception: The proxy catches the call and passes it to ServiceMethod.<br>Request Assembly: Query parameters are encoded, headers added.<br>HTTP Execution: The request is executed via OkHttp.<br>Response Conversion: Raw HTTP response is converted to UserResponse using the configured converter.<br>Suspend Resumption: The coroutine is resumed with the result.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/08/13/android-compose/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/13/android-compose/" class="post-title-link" itemprop="url">android compose</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-08-13 09:18:02 / Modified: 09:19:01" itemprop="dateCreated datePublished" datetime="2025-08-13T09:18:02+08:00">2025-08-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Mobile/" itemprop="url" rel="index"><span itemprop="name">Mobile</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/08/11/carlife/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/11/carlife/" class="post-title-link" itemprop="url">carlife</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-08-11 18:00:17" itemprop="dateCreated datePublished" datetime="2025-08-11T18:00:17+08:00">2025-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-08-12 16:00:17" itemprop="dateModified" datetime="2025-08-12T16:00:17+08:00">2025-08-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>instead of using json&#x2F;xml, carlife use protocol buffer(protobuf) format to exchange data.<br>related resource: <a target="_blank" rel="noopener" href="https://medium.com/nerd-for-tech/protobuf-what-why-fcb324a64564">https://medium.com/nerd-for-tech/protobuf-what-why-fcb324a64564</a></p>
<h2 id="CarLife-Channels"><a href="#CarLife-Channels" class="headerlink" title="CarLife Channels"></a>CarLife Channels</h2><p>carlife data streams:<br>command channel(控制流)<br>video channel<br>audio channel<br>&emsp;1. media<br>&emsp;2. navigation TTS(Text to Sound)<br>touch channel(反控流)：传输车机触摸事件或者按键事件到手机端<br>VR channel(语音流)：automotive -&gt; mobile</p>
<h2 id="AOA连接（Android手机）"><a href="#AOA连接（Android手机）" class="headerlink" title="AOA连接（Android手机）"></a>AOA连接（Android手机）</h2><p><img src="/../images/carlife_aoa_process.JPG" alt="AOSP_CARLIFE_AOA"></p>
<p>HU(Head Unit): 车载娱乐系统<br>MD(Mobile Device): 手机</p>
<ol>
<li>配件（车机）枚举连接过来的设备，判断Android设备（手机）是否处于Accessory Mode，如果不是，车机向手机发出切换到AOA模式的请求。</li>
<li>车机向手机发送51号指令，查看手机是否支持AOA协议</li>
<li>发送52号指令，附带信息：(Manufacturer: Baidu, Model	Name	<br>: CarLife, Version: 1.0.0)</li>
<li>发送53号指令，请求手机切换至AOA模式，手机根据上述三个参数，确定绑定到该车机的app</li>
<li>连接成功</li>
</ol>
<h2 id="AOA消息结构"><a href="#AOA消息结构" class="headerlink" title="AOA消息结构"></a>AOA消息结构</h2><p><img src="/../images/carlife_aoa_message.JPG" alt="AOSP_CARLIFE_AOA_MESSAGE"><br>消息中Chennel ID标明这个消息来自于哪个数据通道，AOA Head共8个字节</p>
<h2 id="音频焦点类型"><a href="#音频焦点类型" class="headerlink" title="音频焦点类型"></a>音频焦点类型</h2><p>长期独占型：Media，音频焦点在申请过后，不会主动释放，只有被其他音频应用抢占时，才会失去自身的音频焦点。<br>短期独占型：VR，在较短时间内占用音频播放设备，使用完之后马上释放播放设备。<br>可混音型：导航TTS，短期占用音频设备，但是期间其他音频应用可以同时使用该音频播放设备，降低音量</p>
<p>above android 12, system will handle audio focus change, you dont need to abandon audio focus mannually, make sure the sudio attributes set correctly.</p>
<p>key components:<br>AudioManager<br>AudioFocusRequest: audio focus parameters<br>OnAudioFocusChangeListener</p>
<h3 id="音频模块优先级"><a href="#音频模块优先级" class="headerlink" title="音频模块优先级"></a>音频模块优先级</h3><p>电话 &gt; VR &gt; Media&#x2F;导航</p>
<h2 id="各种通道数据传输"><a href="#各种通道数据传输" class="headerlink" title="各种通道数据传输"></a>各种通道数据传输</h2><p>基本为先通过命令通道发送命令协商前期参数及准备，然后通过视频&#x2F;音频通道发送真实数据。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/08/11/hvac/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/08/11/hvac/" class="post-title-link" itemprop="url">hvac</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-08-11 16:15:16 / Modified: 17:54:16" itemprop="dateCreated datePublished" datetime="2025-08-11T16:15:16+08:00">2025-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="HVAC-（Heating-Ventilation-and-Air-Conditioning）"><a href="#HVAC-（Heating-Ventilation-and-Air-Conditioning）" class="headerlink" title="HVAC （Heating, Ventilation and Air Conditioning）"></a>HVAC （Heating, Ventilation and Air Conditioning）</h2><p>article link: <a target="_blank" rel="noopener" href="https://juejin.cn/post/6997290650794197022">https://juejin.cn/post/6997290650794197022</a></p>
<p>main charactors:<br>SystemUI, CarHvacApp, car-lib (CarService, CarHvacManager)</p>
<p>CarHvacApp<br>&emsp;HvacUiService<br>&emsp;&emsp;1. create five windows<br>&emsp;&emsp;2. create HvacPanelController<br>&emsp;&emsp;&emsp;&emsp;1. view initialization and click events…<br>&emsp;&emsp;&emsp;&emsp;2. expand&#x2F;collapse panel<br>&emsp;&emsp;3. bind HvacController<br>&emsp;HvanController (the second service)<br>&emsp;&emsp;dependent on car-lib library to start CarService<br>&emsp;&emsp;&emsp;&emsp;start CarService<br>&emsp;&emsp;&emsp;&emsp;createCar()<br>&emsp;&emsp;&emsp;&emsp;connect()<br>&emsp;&emsp;get CarHvacManager<br>&emsp;&emsp;use CarHvacManager get&#x2F;set hvac properties.<br>&emsp;&emsp;&emsp;&emsp;CarService interact with hal to get&#x2F;set properties</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/17/mobile-challenges/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/17/mobile-challenges/" class="post-title-link" itemprop="url">mobile challenges</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-01-17 16:14:29 / Modified: 16:22:26" itemprop="dateCreated datePublished" datetime="2025-01-17T16:14:29+08:00">2025-01-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Mobile/" itemprop="url" rel="index"><span itemprop="name">Mobile</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Cannot-find-Object-XXX"><a href="#Cannot-find-Object-XXX" class="headerlink" title="Cannot find Object XXX"></a>Cannot find Object XXX</h2><h3 id="problem"><a href="#problem" class="headerlink" title="problem"></a>problem</h3><p>for the codes below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">object ServiceCreator &#123;</span><br><span class="line">    private val retrofit: Retrofit =</span><br><span class="line">        Retrofit.Builder()</span><br><span class="line">            .baseUrl(&quot;https://api.example.com/v1/&quot;)</span><br><span class="line">            .addConverterFactory(GsonConverterFactory.create())</span><br><span class="line">            .build()</span><br><span class="line"></span><br><span class="line">    fun &lt;T&gt; create(serviceClass: Class&lt;T&gt;): T = retrofit.create(serviceClass)</span><br><span class="line"></span><br><span class="line">    inline fun &lt;reified T&gt; create(): T = create(T::class.java)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>when I run the app, the app  crashed, when I look into the logs, it said, cannot find the ServiceCreator object……..</p>
<h3 id="root-cause"><a href="#root-cause" class="headerlink" title="root cause"></a>root cause</h3><p>when the ServiceCreator get inited, the retrofic instance get created, here is the problem, when we create the retrofic instance, some reason, it throws exception, so it leads to the retrofic instance is not got created successfully.</p>
<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">object ServiceCreator &#123;</span><br><span class="line">    private val retrofit: Retrofit by lazy &#123;</span><br><span class="line">            Retrofit.Builder()</span><br><span class="line">                .baseUrl(&quot;https://api.example.com/v1/&quot;)</span><br><span class="line">                .addConverterFactory(GsonConverterFactory.create())</span><br><span class="line">                .build()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fun &lt;T&gt; create(serviceClass: Class&lt;T&gt;): T = retrofit.create(serviceClass)</span><br><span class="line"></span><br><span class="line">    inline fun &lt;reified T&gt; create(): T = create(T::class.java)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/17/create-custom-system-app-in-aosp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/17/create-custom-system-app-in-aosp/" class="post-title-link" itemprop="url">create custom system app in aosp</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-01-17 13:22:21 / Modified: 14:33:10" itemprop="dateCreated datePublished" datetime="2025-01-17T13:22:21+08:00">2025-01-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>some blockers when I created a custom app in aosp for automotive.</p>
<h2 id="how-to-create-a-new-module-under-AOSP"><a href="#how-to-create-a-new-module-under-AOSP" class="headerlink" title="how to create a new module under AOSP"></a>how to create a new module under AOSP</h2><p>at first, I want to edit the new project in aosp project folder, but it is so hard to manage the deoendencies without build.gradle.</p>
<p>so, I know that the right way is to create this app in Android Sudio with gradle, an when we tested ready, then copy the source folders under packages&#x2F;apps&#x2F;, and write a Android.bp file seperately.</p>
<h2 id="how-to-find-the-depdencies-name-in-aosp"><a href="#how-to-find-the-depdencies-name-in-aosp" class="headerlink" title="how to find the depdencies name in aosp"></a>how to find the depdencies name in aosp</h2><p>most of the unrecognized dependencies are prebuilt sdks, like the androidx libraries, if you want to find the library’s name in AOSP:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">androidx-constraintlayout = &#123; group = &quot;androidx.constraintlayout&quot;, name = &quot;constraintlayout&quot;, version.ref = &quot;constraintlayout&quot; &#125;</span><br></pre></td></tr></table></figure>
<p>then I need to go to &#x2F;prebuilt&#x2F; library to search the name using</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ada@Win10AFZVA:~/Aosp/prebuilts/sdk$ find . -type f -exec grep -H &#x27;name:.*fragment&#x27; &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>this command will listed the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.fragment_fragment-ktx-nodeps&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.fragment_fragment-ktx&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.fragment_fragment-nodeps&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.fragment_fragment&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.navigation_navigation-fragment-ktx-nodeps&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.navigation_navigation-fragment-ktx&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.navigation_navigation-fragment-nodeps&quot;,</span><br><span class="line">./current/androidx/Android.bp:    name: &quot;androidx.navigation_navigation-fragment&quot;,</span><br><span class="line">./current/support/Android.bp:    name: &quot;android-support-fragment-nodeps&quot;,</span><br><span class="line">./current/support/Android.bp:    name: &quot;android-support-fragment&quot;,</span><br></pre></td></tr></table></figure>

<p>also, we can just use the grep command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ada@Win10AFZVA:~/Aosp/prebuilts/sdk/current/androidx$ grep &#x27;name:.*fragment&#x27; Android.bp</span><br></pre></td></tr></table></figure>

<h2 id="Challenges"><a href="#Challenges" class="headerlink" title="Challenges"></a>Challenges</h2><p>seems like when we using Android.bp, it doesnot support the high level things like view binding. you can just using gradle to generate these files and then link to the aosp project.</p>
<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>in app’s Android.bp, where we define the dependecies using static_libs, it is weird that some libraries even we dont list here, we can stil pass the compile, seems like they are imported somewhere else, e.g. androidx.fragmetn.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/08/my-mobile-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/08/my-mobile-app/" class="post-title-link" itemprop="url">my mobile app</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-01-08 13:15:37" itemprop="dateCreated datePublished" datetime="2025-01-08T13:15:37+08:00">2025-01-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-17 16:14:05" itemprop="dateModified" datetime="2025-01-17T16:14:05+08:00">2025-01-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Mobile/" itemprop="url" rel="index"><span itemprop="name">Mobile</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>here I want to take time to build a mobile app just like Fidelity to review the things I learned these years.</p>
<ul>
<li><p>introduce bom strategy to import compose dependency, so that we dont need to define each compose libraries’ version, it is all updated by bom.</p>
</li>
<li><p>use version catalog to manage versions.</p>
</li>
<li><p>use compose to develop ui part</p>
</li>
<li><p>use mvvm structure. and coroutines</p>
</li>
<li><p>use retrofit to fetch service.</p>
</li>
<li><p>use ksp to decouple modules.</p>
</li>
</ul>
<p>project link: <a target="_blank" rel="noopener" href="https://github.com/Jiangshan2128/DemoApp/tree/master">https://github.com/Jiangshan2128/DemoApp/tree/master</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/06/aosp-tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/06/aosp-tools/" class="post-title-link" itemprop="url">aosp-tools</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-01-06 14:20:27 / Modified: 14:23:26" itemprop="dateCreated datePublished" datetime="2025-01-06T14:20:27+08:00">2025-01-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>AOSP codes search:<br><a target="_blank" rel="noopener" href="https://cs.android.com/android/platform/superproject/+/android-11.0.0_r3">https://cs.android.com/android/platform/superproject/+/android-11.0.0_r3</a>:</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/03/system-services-aidl-binder/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/03/system-services-aidl-binder/" class="post-title-link" itemprop="url">system_services_aidl_binder</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-01-03 16:28:17" itemprop="dateCreated datePublished" datetime="2025-01-03T16:28:17+08:00">2025-01-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-08 13:04:58" itemprop="dateModified" datetime="2025-01-08T13:04:58+08:00">2025-01-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Useful resources: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=M6extgmQQNw&t=140s">https://www.youtube.com/watch?v=M6extgmQQNw&amp;t=140s</a></p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><img src="/../images/system_service_1.jpg" alt="system_server_1"></p>
<ul>
<li>almost all system services runs in the System server process.</li>
<li>every application can have more than one service manager when the client codes call Context.getSystemService() method, the Manager is Per Context not </li>
<li>per application.</li>
</ul>
<p><img src="/../images/system_server_2.jpg" alt="system_server_2"></p>
<ul>
<li>all the service managers registered in the SystemServiceRegistry when app launch.</li>
<li>the service managers are lazy load, will create the service manager instance only when user request the manager.</li>
</ul>
<p><img src="/../images/system_server_3.jpg" alt="system_server_3"></p>
<ul>
<li>because Application and system server run in different process, if they need to talk, they need to use Binder IPC (inter process communication).</li>
<li>Binder is a driver, hard&#x2F;complicate to interact with the driver directly.</li>
<li>so import Aidl interface.</li>
<li>in this diagram, we could see the arrow flow.</li>
<li>you can find the service codes you want via finding who implements the Stub, e.g. IAlarmManager.Stub(). here is the actual codes of the service function.</li>
<li>when you pass an object from application to service, dont pass large object reference (Activity), because the object in service is collected by garbage collector which is not collect that often, then leed to memory leak. (the Activity object will not destroyed until the garbage collector take action.)</li>
</ul>
<p><img src="/../images/system_server_4.jpg" alt="system_server_4"></p>
<ul>
<li>the system server process get created when boot. the Stub is created.</li>
<li>all the services will registered into ‘Service Manager’, and using magic to convert to IBinder stored in Service Manager.</li>
<li>when application ask for one service -&gt; hey service manager, I want to ask for the service manager named XXX -&gt; service manager: ok I will find it, and convert the corresponding IBinder into aidl proxy.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public AlarmManager createService(ContextImpl ctx) throws ServiceNotFoundException &#123;</span><br><span class="line">    IBinder b = ServiceManager.getServiceOrThrow(Context.ALARM_SERVICE);</span><br><span class="line">    IAlarmManager service = IAlarmManager.Stub.asInterface(b);</span><br><span class="line">    return new AlarmManager(service, ctx);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><p>aidl file should be under aidl directory<br><img src="/../images/aidl.jpg" alt="aidld"></p>
<p>need to add buildFeatures.aidl &#x3D; true in build.gradle</p>
<p>above android 11, when you start a inter-process server, you need to add <queries> in client menifest file, unless, the bindService function will return false.</queries></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;queries&gt;</span><br><span class="line">    &lt;package android:name=&quot;com.binderpractice.service&quot; /&gt;</span><br><span class="line">    &lt;intent&gt;</span><br><span class="line">        &lt;action android:name=&quot;com.binderpractice.service.MyServiceAction&quot; /&gt;</span><br><span class="line">    &lt;/intent&gt;</span><br><span class="line">&lt;/queries&gt;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2025/01/02/android-thread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/02/android-thread/" class="post-title-link" itemprop="url">android thread</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-01-02 14:31:14" itemprop="dateCreated datePublished" datetime="2025-01-02T14:31:14+08:00">2025-01-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-03 16:27:06" itemprop="dateModified" datetime="2025-01-03T16:27:06+08:00">2025-01-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>resources:<br>Understanding Looper, messageQueue, handler: <a target="_blank" rel="noopener" href="https://janisharali.com/blog/android-core-looper-handler-and-handlerthread-bd54d69fe91a">https://janisharali.com/blog/android-core-looper-handler-and-handlerthread-bd54d69fe91a</a></p>
<p>haandling thread:<br>Handler -&gt; AsyncTask -&gt; RxJava -&gt; Coroutines</p>
<p>the evolution in F working experience:<br>Retrofic + Rxjava (reactiveX library)-&gt;<br>Retrofit + Livedaata (Android specific related) -&gt;<br>Retrofit + Coroutines (kotlin lib)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Jiang Shan</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
