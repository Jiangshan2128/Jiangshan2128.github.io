<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"jiangshan2128.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Useful Resource I setup the env follow this blog: https:&#x2F;&#x2F;blog.csdn.net&#x2F;devnn&#x2F;article&#x2F;details&#x2F;131868022  Some challengesAOSP - Cygwin &#x2F; virtual box &#x2F; wsl bacause my computer system is Window">
<meta property="og:type" content="article">
<meta property="og:title" content="aosp_env_setup">
<meta property="og:url" content="https://jiangshan2128.github.io/2024/12/04/aosp-env-setup/index.html">
<meta property="og:site_name" content="Working Notes">
<meta property="og:description" content="Useful Resource I setup the env follow this blog: https:&#x2F;&#x2F;blog.csdn.net&#x2F;devnn&#x2F;article&#x2F;details&#x2F;131868022  Some challengesAOSP - Cygwin &#x2F; virtual box &#x2F; wsl bacause my computer system is Window">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://jiangshan2128.github.io/images/AOSP_Env_Setup.jpg">
<meta property="article:published_time" content="2024-12-04T12:20:41.000Z">
<meta property="article:modified_time" content="2024-12-05T03:39:55.654Z">
<meta property="article:author" content="Jiang Shan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jiangshan2128.github.io/images/AOSP_Env_Setup.jpg">


<link rel="canonical" href="https://jiangshan2128.github.io/2024/12/04/aosp-env-setup/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://jiangshan2128.github.io/2024/12/04/aosp-env-setup/","path":"2024/12/04/aosp-env-setup/","title":"aosp_env_setup"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>aosp_env_setup | Working Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Working Notes</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-aosp"><a href="/categories/AOSP/" rel="section"><i class="fa fa-AOSP fa-fw"></i>AOSP</a></li><li class="menu-item menu-item-mobile"><a href="/categories/Mobile/" rel="section"><i class="fa fa-Mobile fa-fw"></i>Mobile</a></li><li class="menu-item menu-item-personal"><a href="/categories/Personal/" rel="section"><i class="fa fa-Personal fa-fw"></i>Personal</a></li><li class="menu-item menu-item-other"><a href="/categories/Other/" rel="section"><i class="fa fa-Other fa-fw"></i>Other</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Useful-Resource"><span class="nav-number">1.</span> <span class="nav-text">Useful Resource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Some-challenges"><span class="nav-number">2.</span> <span class="nav-text">Some challenges</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AOSP-Cygwin-virtual-box-wsl"><span class="nav-number">2.1.</span> <span class="nav-text">AOSP - Cygwin &#x2F; virtual box &#x2F; wsl</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Challenges-Env-setup"><span class="nav-number">2.2.</span> <span class="nav-text">Challenges Env setup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Challenges-building-AOSP"><span class="nav-number">2.3.</span> <span class="nav-text">Challenges building AOSP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Final-Result"><span class="nav-number">2.4.</span> <span class="nav-text">Final Result</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jiang Shan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dashboard" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dashboard" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jiangshan2128.github.io/2024/12/04/aosp-env-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiang Shan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Working Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="aosp_env_setup | Working Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          aosp_env_setup
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-12-04 20:20:41" itemprop="dateCreated datePublished" datetime="2024-12-04T20:20:41+08:00">2024-12-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-12-05 11:39:55" itemprop="dateModified" datetime="2024-12-05T11:39:55+08:00">2024-12-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AOSP/" itemprop="url" rel="index"><span itemprop="name">AOSP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="Useful-Resource"><a href="#Useful-Resource" class="headerlink" title="Useful Resource"></a>Useful Resource</h2><ol>
<li>I setup the env follow this blog: <a target="_blank" rel="noopener" href="https://blog.csdn.net/devnn/article/details/131868022">https://blog.csdn.net/devnn/article/details/131868022</a></li>
</ol>
<h2 id="Some-challenges"><a href="#Some-challenges" class="headerlink" title="Some challenges"></a>Some challenges</h2><h3 id="AOSP-Cygwin-virtual-box-wsl"><a href="#AOSP-Cygwin-virtual-box-wsl" class="headerlink" title="AOSP - Cygwin &#x2F; virtual box &#x2F; wsl"></a>AOSP - Cygwin &#x2F; virtual box &#x2F; wsl</h3><ul>
<li><p>bacause my computer system is Windows, so at first, I dont want to install VMWare or somthing which is really complex, so I tried to use cygwin to run linux commands, but finally, it turns out that the Cygwin is not enough, it lacks some tools that AOSP build needs. </p>
</li>
<li><p>so, the second try, I want to use the virtual box to lunch the linux system (Ubuntu), it should work, but it need to confg many things, and you need to download virtual box, I did not end up with this method, but it should work, I want to have a simpler way, better to just have a command line.</p>
</li>
<li><p>the final solution: I use WSL, because my computer is Win10, so it born with the WSL tool, so I setup the unbuntu with wsl reference to the resource 1, finally did it. it just have a Ubuntu command line, dont have the user interface, it is much more lighter.</p>
</li>
</ul>
<h3 id="Challenges-Env-setup"><a href="#Challenges-Env-setup" class="headerlink" title="Challenges Env setup"></a>Challenges Env setup</h3><ul>
<li>For downloading the AOSP, at first, I downloaded the latest version, but, you know what?….I finally found that AS dont have a emulator can run Android 16, so I need to re-download the AOSP with Android 13.</li>
</ul>
<h3 id="Challenges-building-AOSP"><a href="#Challenges-building-AOSP" class="headerlink" title="Challenges building AOSP"></a>Challenges building AOSP</h3><ul>
<li><p>When I use the ‘m’ command to start the build, it ends up with not enough memory error(error code 137), but I checked with the memory, it seems enough, finally it turns out that I need to use ‘m -j8’ to identify the threads, otherwies, it may use all the threads, then the memory will not enough.</p>
</li>
<li><p>For choosing the lunch target, we can find related targets in \Aosp\device\generic\car\AndroidProducts.mk, I thought need to use the target - aosp_car_x86_64, but when it build finished, I need to pack a zip file to windows, I found the pack zip file command not work, it turns out we need to use the target with sdk prefix, so we can have the zip file, and lunch the image in windows emulator.</p>
</li>
</ul>
<h3 id="Final-Result"><a href="#Final-Result" class="headerlink" title="Final Result"></a>Final Result</h3><p><img src="/../images/AOSP_Env_Setup.jpg" alt="image"></p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/12/04/My-first-try/" rel="prev" title="My first try">
                  <i class="fa fa-angle-left"></i> My first try
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/12/08/tech-diary/" rel="next" title="tech_diary">
                  tech_diary <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Jiang Shan</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
